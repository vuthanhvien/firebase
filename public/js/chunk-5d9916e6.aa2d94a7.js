(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d9916e6"],{"15b8":function(t,e,n){t.exports=n("e1b7")},"17c3":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"animated fadeIn"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-7"},[n("h4",[n("strong",[t._v(t._s(t.menu))])])]),n("div",{staticClass:"col-5"},[n("div",{staticClass:"text-right"},[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal1",modifiers:{modal1:!0}}],attrs:{variant:"primary"}},[t._v("Add\n          "),n("i",{staticClass:"fa fa-plus"})])],1)])]),n("br"),n("b-modal",{ref:"myModalRef",attrs:{title:"Add new"+t.menu,size:"lg",id:"modal1","hide-footer":""}},[n("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[t._l(t.tableFields,function(e){return n("b-form-group",{key:e.name,attrs:{label:e.label,"label-for":"exampleInput2"}},[e.type.indexOf("String")>-1?n("div",[n("b-form-textarea",{attrs:{type:"text",placeholder:"Enter "+e.name},model:{value:t.form[e.name],callback:function(n){t.$set(t.form,e.name,n)},expression:"form[col.name]"}})],1):e.type.indexOf("Int")>-1?n("div",[n("b-form-input",{attrs:{type:"number",placeholder:"Enter "+e.name},model:{value:t.form[e.name],callback:function(n){t.$set(t.form,e.name,n)},expression:"form[col.name]"}})],1):n("div",[n("b-form-input",{attrs:{type:"text",placeholder:"Enter "+e.name},model:{value:t.form[e.name],callback:function(n){t.$set(t.form,e.name,n)},expression:"form[col.name]"}})],1)])}),n("div",{staticClass:"text-right"},[n("b-button",{attrs:{type:"button",variant:"outline-basic"},on:{click:t.hideModal}},[t._v("Close")]),t._v(" \n        "),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),t._v(" \n        "),n("b-button",{attrs:{type:"reset",variant:"outline-danger"}},[t._v("Reset")])],1)],2)],1),n("div",{staticClass:"card"},[n("table",{staticClass:"table"},[n("tr",[t._l(t.tableFields,function(e){return n("th",{key:e.name,style:{width:"id"==e.name?"50px":""}},[t._v(t._s(e.name))])}),n("th",{staticClass:"text-center"},[t._v("Action")])],2),t._l(t.tableItems,function(e){return n("tr",{key:e.id},[t._l(t.tableFields,function(a){return n("td",{key:a.name},[t._v(t._s(e[a.name]&&e[a.name].id?e[a.name].name:e[a.name]))])}),n("td",{staticStyle:{width:"100px","white-space":"nowrap"}},[n("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal1",modifiers:{modal1:!0}}],staticClass:"btn btn-primary",on:{click:function(n){return t.edit(e)}}},[t._v("Edit")]),t._v(" \n          "),n("button",{staticClass:"btn btn-danger"},[t._v("Delete")])])],2)})],2)])],1)},o=[],i=(n("7f7f"),n("d847")),r=n.n(i),s=n("15b8"),l=n.n(s);function m(t,e){return e||(e=t.slice(0)),l()(r()(t,{raw:{value:l()(e)}}))}var u=n("a4bb"),c=n.n(u),d=n("f499"),f=n.n(d),p=(n("cadf"),n("551c"),n("f751"),n("097d"),n("bc3a")),b=n.n(p),h=n("9530"),v=n.n(h);function y(){var t=m(["\n          {\n            data:","{\n              list{\n                id\n                ","\n              }\n            }\n          }\n        "]);return y=function(){return t},t}function g(){var t=m(["\n        mutation($model : String, $data: Json){\n          ","(model: $model, data: $data){\n            message\n            success\n          }\n        }\n        "]);return g=function(){return t},t}var _={name:"post",components:{},data:function(){return{openAdd:!1,form:{},menu:"",schema:[],tableItems:[],tableFields:[]}},methods:{hideModal:function(){this.$refs.myModalRef.hide()},edit:function(t){var e=this;this.form=JSON.parse(f()(t)),c()(this.form).map(function(t){e.form[t]&&e.form[t].__typename&&(e.form[t]=e.form[t].id)}),this.openAdd=!0,console.log(t)},onSubmit:function(t){t.preventDefault();var e=this;this.form.updatedAt=Math.floor((new Date).getTime()/1e3),this.form.createdAt||(this.form.createdAt=Math.floor((new Date).getTime()/1e3)),this.$apollo.mutate({mutation:v()(g(),this.form.id?"updateOne":"createOne"),variables:{model:this.menu.toLowerCase(),data:this.form}}).then(function(t){e.getData(e.menu),e.form={},e.openAdd=!1})},onReset:function(t){t.preventDefault(),this.form={}},getData:function(t){var e=this,n=this;this.form={},this.schema.map(function(t){t.name===e.$route.params.id&&(e.tableFields=t.children)}),this.$apollo.query({query:v()(y(),t.toLowerCase()+"s",n.tableFields.map(function(t,e){return"Int"!==t.type&&"Int!"!==t.type&&"String!"!==t.type&&"String"!==t.type&&"Float"!==t.type&&"Float!"!==t.type&&"[Int]"!==t.type&&"[Int]!"!==t.type&&"[String]!"!==t.type&&"[String]"!==t.type&&"[Float]"!==t.type&&"[Float]!"!==t.type&&"Boolean"!==t.type&&"Boolean!"!==t.type&&"[Boolean]"!==t.type&&"[Boolean]!"!==t.type?t.name+"{\n                        id \n                        name\n                      }":t.name}).join("\n                ")),fetchPolicy:"network-only"}).then(function(t){n.tableItems=t.data.data.list})}},watch:{$route:function(){this.menu=this.$route.params.id,this.getData(this.menu)}},created:function(){var t=this;b.a.get("https://us-central1-vienvu-7e64f.cloudfunctions.net/getSchema").then(function(e){var n=[];e=e.data,console.log(e),c()(e).map(function(t){var a=[];c()(e[t]).map(function(n){a.push({label:n.toUpperCase(),name:n,type:e[t][n]})}),n.push({name:t,url:"/"+t,children:a})}),t.schema=n,console.log(t.schema),t.menu=t.$route.params.id,t.getData(t.menu)})}},w=_,x=n("2877"),C=Object(x["a"])(w,a,o,!1,null,null,null);e["default"]=C.exports},"522e":function(t,e,n){var a=n("f772"),o=n("ebfd").onFreeze;n("ce7e")("freeze",function(t){return function(e){return t&&a(e)?t(o(e)):e}})},"5bba":function(t,e,n){n("9d98");var a=n("584a").Object;t.exports=function(t,e){return a.defineProperties(t,e)}},"9d98":function(t,e,n){var a=n("63b6");a(a.S+a.F*!n("8e60"),"Object",{defineProperties:n("7e90")})},a21f:function(t,e,n){var a=n("584a"),o=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},d847:function(t,e,n){t.exports=n("5bba")},e1b7:function(t,e,n){n("522e"),t.exports=n("584a").Object.freeze},f499:function(t,e,n){t.exports=n("a21f")}}]);
//# sourceMappingURL=chunk-5d9916e6.aa2d94a7.js.map